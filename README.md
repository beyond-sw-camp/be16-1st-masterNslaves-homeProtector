# ğŸšï¸ MASTERNSLAVES - HomeProtector
<br>
<p align="center">
  <img src="images/team/Team Logo.png" width="400">
</p>

<details>
  <summary>ë¡œê³  ì œì‘ ê³¼ì •</summary>
   <img src="images/team/Team logo process.png" width="800">
</details>

<h2>ğŸ‘¥ íŒ€ì› ì†Œê°œ</h2>
<table>
  <tr>
    <td align="center">
      <img src="images/team/keondong.jpeg" width="150"/>
    </td>
    <td align="center">
      <img src="images/team/chanjin.png" width="150"/>
    </td>
    <td align="center">
      <img src="images/team/jinho.png" width="150"/>
    </td>
    <td align="center">
      <img src="images/team/wooyoung.png" width="150"/>
    </td>
  </tr>
    <tr>
    <td align="center"> ê¹€ê±´ë™</td>
    <td align="center"> ê¹€ì°¬ì§„</td>
    <td align="center">ê¹€ì§„í˜¸</td>
    <td align="center"> ì´ìš°ì˜ </td>
  </tr>
  <tr>
    <td align="center"><a href="https://github.com/astraglus03" target="_blank"><img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=github&logoColor=white"/></a>
    </td>
    <td align="center"><a href="https://github.com/Chanjin629" target="_blank"><img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=github&logoColor=white"/></a>
    </td>
    <td align="center"><a href="https://github.com/jinnn12" target="_blank"><img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=github&logoColor=white"/></a> 
    </td>
    <td align="center"><a href="https://github.com/ggj0228" target="_blank"><img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=github&logoColor=white"/></a>
    </td>
  </tr>
</table>

<br>

## ğŸ¬ğŸï¸ í”„ë¡œì íŠ¸ ê°œìš”

<h3>01_í”„ë¡œì íŠ¸ ì£¼ì œ</h3>

&nbsp;ì „Â·ì›”ì„¸ ì‚¬ê¸° í”¼í•´ìë“¤ì´ ì‹¤ì œ ê²ªì€ ê²½í—˜ì„ ê³µìœ í•˜ê³  ìƒí˜¸ì‘ìš©í•˜ëŠ” ì •ë³´ ê³µìœ  ê¸°ë°˜ ì»¤ë®¤ë‹ˆí‹° ì‹œìŠ¤í…œ
 

<h3>02_í”„ë¡œì íŠ¸ ì†Œê°œ</h3>

&nbsp;ìµœê·¼ ê¸‰ì¦í•˜ëŠ” ì „ì„¸ì‚¬ê¸° í”¼í•´ ì‚¬ë¡€ëŠ” ë‹¨ìˆœí•œ ê¸ˆìœµ í”¼í•´ë¥¼ ë„˜ì–´ ì£¼ê±° ì•ˆì •ì„± ìì²´ë¥¼ ìœ„í˜‘í•˜ê³  ìˆìŠµë‹ˆë‹¤. 2024ë…„ 1ì›” ê¸°ì¤€, ì „ì„¸ì‚¬ê¸°í”¼í•´ì§€ì›ìœ„ì›íšŒì—ì„œ í”¼í•´ìë¡œ ê³µì‹ ì¸ì •ëœ ì‚¬ë¡€ëŠ” ì´ 10,944ê±´ì´ë©°, ì´ ì¤‘ 70% ì´ìƒì´ 40ì„¸ ë¯¸ë§Œ ì²­ë…„ì¸µì— ì§‘ì¤‘ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì²­ë…„ê³¼ ì‚¬íšŒì´ˆë…„ìƒì´ ì£¼ë¡œ ê±°ì£¼í•˜ëŠ” ì†Œí˜• ë‹¤ì„¸ëŒ€, ì˜¤í”¼ìŠ¤í…”, ë‹¤ê°€êµ¬ì£¼íƒ ë“±ì´ ì£¼ìš” í”¼í•´ ëŒ€ìƒì´ë¼ëŠ” ì ì—ì„œ, ì •ë³´ì˜ ë¹„ëŒ€ì¹­ê³¼ ì·¨ì•½í•œ ë²•ì  ë°©ì–´ë ¥ì´ ì „ì„¸ì‚¬ê¸°ì˜ ê·¼ë³¸ ì›ì¸ìœ¼ë¡œ ì‘ìš©í•˜ê³  ìˆìŒì„ ì‹œì‚¬ í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì „Â·ì›”ì„¸ ì‚¬ê¸°ë¥¼ ë°©ì§€í•˜ê³ ì ì´ë¯¸ í”¼í•´ë¥¼ ë³¸ ì‚¬ë¡€ë¥¼ ë“±ë¡í•˜ì—¬ ì •ë³´ë¥¼ ê³µìœ í•˜ê³  ì„œë¡œ ì§ˆë¬¸í•˜ëŠ” ì‹œìŠ¤í…œì˜ ì»¤ë®¤ë‹ˆí‹° ì„œë¹„ìŠ¤ë¥¼ ì¦ê²¨ë³´ì„¸ìš”!

<h3>03_í”„ë¡œì íŠ¸ í•„ìš”ì„±</h3>

1. ì¦ê°€í•˜ëŠ” ì „Â·ì›”ì„¸ ì‚¬ê¸°<br>
 2024ë…„ 1ì›” ê¸°ì¤€, í”¼í•´ì ê³µì‹ ì¸ì • ê±´ìˆ˜ëŠ” 10,944ê±´ìœ¼ë¡œ ë” ë§ì€ ì „ì„¸ì‚¬ê¸°ê°€ ì¼ì–´ë‚˜ê³  ìˆë‹¤ê³  ì¶”ì‚°ë©ë‹ˆë‹¤. ë˜í•œ ë”ìš± ê²½ê¸°ê°€ ì•ˆì¢‹ê²Œ í˜ëŸ¬ê°ìœ¼ë¡œì¨ ì§‘ì£¼ì¸ì´ ê±´ë¬¼ì„ ë‘ê³  ë„ë§ê°€ëŠ” ìƒí™©ì´ ë§ì´ í¼ì³ì§€ë©° HUGì—ì„œë„ ë³´ì¦í•´ì£¼ë ¤ í•˜ì§€ ì•Šê³ ìˆìœ¼ë©° í˜„ì¬ í”¼í•´ìì¤‘ 20~30ëŒ€ì˜ ë¹„ìœ¨ì´ 72.9%ë¡œ 7,984ê±´ ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ì ì—ì„œ ë”ìš±ë” ì‚¬ê¸°ê°€ ì¼ì–´ë‚˜ë©´ ì•ˆë˜ë©° SNSì‹œëŒ€ì—ì„œ ì •ë³´ê³µìœ ê°€ í•„ìˆ˜ì ì´ë¼ê³  ê°•ì¡°í•©ë‹ˆë‹¤.

<div>
 <img src="images/readme_sub/need1.png" width="380"/>
 <img src="images/readme_sub/need2.png" width="420"/>
</div>
ì¶œì²˜: êµ­í† êµí†µë¶€(https://jeonse.kgeop.go.kr/) 

<br><br>
2. ê°ì†Œí•˜ëŠ” ì¸êµ¬ ë¹„ìœ¨<br>
&nbsp;í˜„ì¬ ì¸êµ¬ê°€ ë§¤ìš° í° í­ìœ¼ë¡œ ê°ì†Œí•˜ê³  ìˆìœ¼ë©° í˜„ì¬ ì¶œì‚°ìœ¨ì´ 0.75ë¡œ ì¦ê°€í–ˆìŒì—ë„ ì•„ì§ 1ì´ ë„˜ì§€ ì•ŠëŠ”ê²ƒì´ í˜„ì‹¤ì…ë‹ˆë‹¤. ë˜í•œ ì§€ê¸ˆ ì§€ì—­ë³„ ì¶œì‚°ìœ¨ì€ ì¦ê°€í–ˆì„ ìˆ˜ ìˆì§€ë§Œ ì „ì²´ ì§€ì—­ í•©ê³„ ì¶œì‚°ìœ¨ë¡œ ê³„ì‚°í•´ ë³´ì•˜ì„ë•Œ ì§€ì†ì ìœ¼ë¡œ ê°ì†Œì¤‘ì…ë‹ˆë‹¤. ìƒˆë¡œìš´ ì‹œëŒ€ì˜ ì Šì€ ì„¸ëŒ€ê°€ ì•„ì´ë¥¼ ì¶œì‚°í•˜ê¸° ìœ„í•´ì„œë¼ë„ ì‚¬ê¸°ê°€ ì¼ì–´ë‚˜ì§€ì•ŠëŠ” ì¬ë°œ ë°©ì§€ ëª©ì ì´ í•„ìš”í•˜ë‹¤ê³  íŒë‹¨í•˜ì˜€ìŠµë‹ˆë‹¤.

 <img src="images/readme_sub/need3.png" width="550"/>
ì¶œì²˜: ëŒ€í•œë¯¼êµ­ ì •ì±…ë¸Œë¦¬í•‘(https://www.korea.kr/news/policyNewsView.do?newsId=148940038)

<h3>04_í”„ë¡œì íŠ¸ ì£¼ìš” ê¸°ëŠ¥</h3>

- **í”¼í•´ ì‚¬ë¡€ ë“±ë¡**: ë³¸ì¸ ì¸ì¦ ë¬¸ì„œì™€ ê³„ì•½ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ê±´ì˜ ê²Œì‹œê¸€ì„ ë“±ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ê±´ë¬¼ ê²€ìƒ‰**: ì£¼ì†Œë¥¼ í†µí•´ í•´ë‹¹ ê±´ë¬¼ì˜ ê²½ë§¤ì‚¬ê±´ í›„ê¸°ë¥¼ ì¡°íšŒ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ê´€ë¦¬ì ìŠ¹ì¸**: ë“±ë¡ëœ ê¸€ì€ ê´€ë¦¬ìê°€ ê²€í†  í›„ ê³µê°œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥**: ëŒ“ê¸€ ë° í”¼í•´ì‚¬ë¡€ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì „ë¬¸ê°€ì™€ì˜ ë§¤ì¹­**: ì¼ë°˜ ì‚¬ìš©ìê°€ ì „ë¬¸ê°€ì™€ ë§¤ì¹­ë¨ìœ¼ë¡œì¨ ë¬¸ì œë¥¼ í•´ê²° í•  ìˆ˜ ìˆë‹¤.

<h3>05_ì„œë¹„ìŠ¤ ì°¨ë³„í™” ì „ëµ</h3>

- **ì‚¬ê±´ì˜ ì¡°íšŒë¥¼ ë„˜ì–´ì„œ ì •ë³´ë¥¼ ê³µìœ í•¨ìœ¼ë¡œì¨ ì‚¬ê¸° ì˜ˆë°©ì´ ê°€ëŠ¥í•˜ë‹¤.**  

<br>

## âš™ï¸ğŸ› ï¸ Technical Stack

<h2>DB</h2>

<a href="https://mariadb.org" target="_blank">
  <img src="https://img.shields.io/badge/MariaDB-003545?style=for-the-badge&logo=mariadb&logoColor=white"/>
</a>

<h2>Tool</h2>

<div><img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=github&logoColor=white"/>
<img src="https://img.shields.io/badge/ERD%20cloud-0000FF?style=for-the-badge&logo=data:image/svg+xml;base64,&logoColor=white"/>
<img src="https://img.shields.io/badge/Discord-%235865F2.svg?style=for-the-badge&logo=discord&logoColor=white"/>
  <img src= "https://img.shields.io/badge/mysql-4479A1.svg?style=for-the-badge&logo=mysql&logoColor=white"/>
</div>

<br>

## ğŸ—“ï¸ WBS

<details>
  <summary>WBS ë³´ê¸°</summary>
   <img src="images/readme_sub/WBS.png" width="1000">
</details>
<div style="font-size: 1.5em; font-weight: bold; margin-top: 20px;">
  <a href='https://docs.google.com/spreadsheets/d/15pLhr2YpBQbEitgeisUuU08xiQDuqLblhvuWDRGMyNs/edit?gid=632033879#gid=632033879' style="text-decoration: none; color: inherit;">
    WBS
  </a>
</div>

<br>

## ğŸ§¾ ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ

<details>
  <summary>ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ ë³´ê¸°</summary>
   <img src="images/readme_sub/ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ.png" width="1000", height='500'>
</details>

<div style="font-size: 1.5em; font-weight: bold; margin-top: 20px;">
  <a href='https://docs.google.com/spreadsheets/d/15pLhr2YpBQbEitgeisUuU08xiQDuqLblhvuWDRGMyNs/edit?gid=538827036#gid=538827036' style="text-decoration: none; color: inherit;">
    ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ
  </a>
</div>

## ğŸ§± ERD

<details>
  <summary>ERD ë³´ê¸°</summary>
   <img src="images/readme_sub/ERD.png" width="1000">
</details>
<div style="font-size: 1.5em; font-weight: bold; margin-top: 20px;">
  <a href='https://www.erdcloud.com/d/DvuCQXPY5ve8hbFBH' style="text-decoration: none; color: inherit;">
    ERD
  </a>
</div>

<br>

## ğŸ§¾ DDL
<details>
  <summary>DDL</summary>
  <details>
  <summary>1. íšŒì› í…Œì´ë¸” ìƒì„±í•˜ê¸°</summary>

  ```sql
-- ìœ ì € í…Œì´ë¸”
CREATE TABLE user (	
user_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,	
user_name VARCHAR(255) NOT NULL,	
user_email VARCHAR(255) NOT NULL UNIQUE,	
user_password VARCHAR(255) NOT NULL,	
user_age INT UNSIGNED NOT NULL,	
user_phone_number VARCHAR(255) NOT NULL UNIQUE,	
user_gender VARCHAR(255) NOT NULL,	
user_created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,	
user_deleted_at DATETIME NULL,	
user_modified_at DATETIME NULL,	
PRIMARY KEY (user_id)	
);	
  ```
  </details>
    <details>
  <summary>2. ê´€ë¦¬ì í…Œì´ë¸” ìƒì„±í•˜ê¸°</summary>

  ```sql
-- ê´€ë¦¬ì í…Œì´ë¸”
CREATE TABLE admin (			
admin_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,			
admin_name VARCHAR(255) NOT NULL,			
admin_email VARCHAR(255) NOT NULL UNIQUE,			
admin_password VARCHAR(255) NOT NULL,			
admin_com_num VARCHAR(255) NOT NULL,			
admin_created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,			
admin_end_at DATETIME NULL,			
PRIMARY KEY (admin_id)			
);			

  ```
  </details>
    <details>
  <summary>3. ë¶€ë™ì‚° ì •ë³´ í…Œì´ë¸” ìƒì„±í•˜ê¸°</summary>

  ```sql
-- ë¶€ë™ì‚° ì •ë³´
CREATE TABLE properties (		
properties_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,		
properties_address VARCHAR(255) NOT NULL,		
properties_name VARCHAR(255) NULL,		
properties_latitude DECIMAL(9,6) NULL,		
properties_longitude DECIMAL(9,6) NULL,		
PRIMARY KEY (properties_id)		
);		
  ```
  </details>
    <details>
  <summary>4. ì „ë¬¸ê°€ í…Œì´ë¸” ìƒì„±í•˜ê¸°</summary>

  ```sql
-- ì „ë¬¸ê°€ í…Œì´ë¸”
CREATE TABLE expert (	
expert_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,	
expert_name VARCHAR(255) NOT NULL,	
contact VARCHAR(255) NOT NULL,	
password VARCHAR(255) NOT NULL,	
qualify_type VARCHAR(255) NOT NULL,	
qualify_num VARCHAR(255) NOT NULL UNIQUE,	
created_at DATETIME NOT NULL,	
updated_at DATETIME NULL,	
deleted_at DATETIME NULL,	
PRIMARY KEY (expert_id)	
);	
  ```
  </details>
    <details>
  <summary>5. ì‚¬ê¸°íƒ€ì… í…Œì´ë¸” ìƒì„±í•˜ê¸°</summary>

  ```sql
-- ì‚¬ê¸°ìœ í˜• í…Œì´ë¸”
CREATE TABLE fraud_type (			
fraud_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,			
fraud_type VARCHAR(255) NOT NULL,			
PRIMARY KEY (fraud_id)			
);			
  ```
  </details>
    <details>
  <summary>6. í”¼í•´ í…Œì´ë¸” ìƒì„±í•˜ê¸°</summary>

  ```sql
-- í”¼í•´ ê²Œì‹œê¸€
CREATE TABLE post (		
post_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,		
user_id BIGINT UNSIGNED NOT NULL,		
properties_id BIGINT UNSIGNED NOT NULL,		
post_accident_number VARCHAR(255) NOT NULL,		
post_accident_end_date DATETIME NOT NULL,		
post_title VARCHAR(255) NOT NULL,		
post_content TEXT NOT NULL,		
post_status ENUM('ëŒ€ê¸°ì¤‘', 'ìŠ¹ì¸', 'ë°˜ë ¤') NOT NULL DEFAULT 'ëŒ€ê¸°ì¤‘',		
post_created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,		
post_updated_at DATETIME NULL,		
post_deleted_at DATETIME NULL,		
post_rejected_reason VARCHAR(255) NULL,		
post_like_count INT UNSIGNED NULL,		
approve_admin BIGINT UNSIGNED NULL,		
PRIMARY KEY (post_id),		
FOREIGN KEY (user_id) REFERENCES user (user_id),		
FOREIGN KEY (properties_id) REFERENCES properties (properties_id)		
);		
  ```
  </details>
    <details>
  <summary>7. ì§ˆë¬¸ í…Œì´ë¸” ìƒì„±í•˜ê¸°</summary>

  ```sql
-- ì§ˆë¬¸ ê²Œì‹œê¸€
CREATE TABLE inquiry (		
inquiry_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,		
user_id BIGINT UNSIGNED NOT NULL,		
inquiry_title VARCHAR(255) NOT NULL,		
inquiry_contents TEXT NOT NULL,		
inquiry_created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,		
inquiry_updated_at DATETIME NULL,		
inquiry_deleted_at DATETIME NULL,
inquiry_like_count INT UNSIGNED NOT NULL DEFAULT 0,
PRIMARY KEY (inquiry_id),		
FOREIGN KEY (user_id) REFERENCES user (user_id)		
);			
  ```
  </details>
    <details>
  <summary>8. ê³µì§€ì‚¬í•­ í…Œì´ë¸” ìƒì„±í•˜ê¸°</summary>

  ```sql
-- ê³µì§€ì‚¬í•­ í…Œì´ë¸”
CREATE TABLE notice (	
announce_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,	
admin_id BIGINT UNSIGNED NOT NULL,	
announce_title VARCHAR(255) NOT NULL,	
announce_content TEXT NOT NULL,	
announce_post_file VARCHAR(255) NULL,	
announce_create_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,	
announce_updated_at DATETIME NULL,	
announce_deleted_at DATETIME NULL,	
PRIMARY KEY (announce_id),	
FOREIGN KEY (admin_id) REFERENCES admin (admin_id)	
);	
  ```
  </details>
    <details>
  <summary>9. ìƒë‹´ í…Œì´ë¸” ìƒì„±í•˜ê¸°</summary>

  ```sql
-- ìƒë‹´ ê²Œì‹œê¸€ í…Œì´ë¸”
CREATE TABLE counsel (		
counsel_id BIGINT NOT NULL AUTO_INCREMENT,		
user_id BIGINT UNSIGNED NOT NULL,		
expert_id BIGINT UNSIGNED NOT NULL,		
title VARCHAR(255) NOT NULL,		
contents TEXT NOT NULL,		
created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,		
updated_at DATETIME NULL,		
deleted_at DATETIME NULL,		
category ENUM('ë²•ë¥ ', 'ê³µì¸ì¤‘ê°œì‚¬') NOT NULL DEFAULT 'ë²•ë¥ ',		
status ENUM('ëŒ€ê¸°ì¤‘', 'ìŠ¹ì¸') NOT NULL DEFAULT 'ëŒ€ê¸°ì¤‘',		
PRIMARY KEY (counsel_id),		
FOREIGN KEY (user_id) REFERENCES user (user_id),		
FOREIGN KEY (expert_id) REFERENCES expert (expert_id)		
);	
  ```
  </details>
      <details>
  <summary>10. ëŒ“ê¸€ í…Œì´ë¸” ìƒì„±í•˜ê¸°</summary>

  ```sql
-- ëŒ“ê¸€ í…Œì´ë¸”
CREATE TABLE reply (		
reply_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,		
post_id BIGINT UNSIGNED,		
user_id BIGINT UNSIGNED NOT NULL,		
inquiry_id BIGINT UNSIGNED,		
reply_content VARCHAR(255) NOT NULL,		
reply_created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,		
reply_modified_at TIMESTAMP NULL,		
reply_deleted_at TIMESTAMP NULL,		
reply_parent_id INT UNSIGNED NULL,		
PRIMARY KEY (reply_id),		
FOREIGN KEY (post_id) REFERENCES post (post_id),		
FOREIGN KEY (user_id) REFERENCES user (user_id),		
FOREIGN KEY (inquiry_id) REFERENCES inquiry (inquiry_id)		
);			
  ```
  </details>
      <details>
  <summary>11. ì¦ë¹™ìë£Œ í…Œì´ë¸” ìƒì„±í•˜ê¸°</summary>

  ```sql
-- ì¦ëª…ìë£Œ í…Œì´ë¸”
CREATE TABLE proof (	
proof_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,	
post_id BIGINT UNSIGNED NULL,	
expert_id BIGINT UNSIGNED NULL,	
proof_file_path VARCHAR(255) NOT NULL,	
PRIMARY KEY (proof_id),	
FOREIGN KEY (post_id) REFERENCES post (post_id),	
FOREIGN KEY (expert_id) REFERENCES expert (expert_id)	
);
  ```
  </details>
      <details>
  <summary> 12. ì‹ ê³  í…Œì´ë¸” ìƒì„±í•˜ê¸°</summary>

  ```sql
-- ì‹ ê³  í…Œì´ë¸”
CREATE TABLE report (		
report_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,		
user_id BIGINT UNSIGNED NOT NULL,		
post_id BIGINT UNSIGNED,		
admin_id BIGINT UNSIGNED NULL,		
reply_id BIGINT UNSIGNED,		
report_resason TEXT NOT NULL,		
report_date DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,		
report_status ENUM('ëŒ€ê¸°ì¤‘', 'ì™„ë£Œ', 'ë°˜ë ¤') NOT NULL DEFAULT 'ëŒ€ê¸°ì¤‘',		
report_action VARCHAR(255) NULL,		
report_processed_at DATETIME NULL,		
PRIMARY KEY (report_id),		
FOREIGN KEY (user_id) REFERENCES user (user_id),		
FOREIGN KEY (post_id) REFERENCES post (post_id),		
FOREIGN KEY (admin_id) REFERENCES admin (admin_id),		
FOREIGN KEY (reply_id) REFERENCES reply (reply_id)		
);		
  ```
  </details>
      <details>
  <summary>13. ì•Œë¦¼ í…Œì´ë¸” ìƒì„±í•˜ê¸°</summary>

  ```sql
-- ì•Œë¦¼ í…Œì´ë¸”
CREATE TABLE alerts (	
notice_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,	
user_id BIGINT UNSIGNED NOT NULL,	
reply_id BIGINT UNSIGNED NULL,	
post_id BIGINT UNSIGNED NULL,	
inquiry_id BIGINT UNSIGNED NULL,	
notice_message TEXT NULL,	
notice_isread VARCHAR(255) NULL,	
PRIMARY KEY (notice_id),	
FOREIGN KEY (user_id) REFERENCES user (user_id),	
FOREIGN KEY (reply_id) REFERENCES reply (reply_id),	
FOREIGN KEY (post_id) REFERENCES post (post_id),	
FOREIGN KEY (inquiry_id) REFERENCES reply (inquiry_id)	
);	
  ```
  </details>
      <details>
  <summary>14. ë¡œê·¸ í…Œì´ë¸” ìƒì„±í•˜ê¸°</summary>

  ```sql
-- ë¡œê·¸ í…Œì´ë¸”
CREATE TABLE log_list (	
log_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,	
user_id BIGINT UNSIGNED NOT NULL,	
action VARCHAR(255) NOT NULL,	
entity_type VARCHAR(255) NOT NULL,	
performed_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,	
details VARCHAR(255) NULL,	
PRIMARY KEY (log_id),	
FOREIGN KEY (user_id) REFERENCES user (user_id)	
);
  ```
  </details>
      <details>
  <summary>15. í”¼í•´ ê²Œì‹œê¸€ ì¢‹ì•„ìš” í…Œì´ë¸” ìƒì„±í•˜ê¸°</summary>

  ```sql
-- í”¼í•´ ê²Œì‹œê¸€ ì¢‹ì•„ìš”
CREATE TABLE post_like (			
like_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,			
post_id BIGINT UNSIGNED NOT NULL,			
user_id BIGINT UNSIGNED NOT NULL,			
liked_created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,			
PRIMARY KEY (like_id),			
UNIQUE (post_id, user_id),			
FOREIGN KEY (post_id) REFERENCES post (post_id),			
FOREIGN KEY (user_id) REFERENCES user (user_id)			
);	
  ```
  </details>
      <details>
  <summary>16. ì§ˆë¬¸ ê²Œì‹œê¸€ ì¢‹ì•„ìš” í…Œì´ë¸” ìƒì„±í•˜ê¸°</summary>

  ```sql
-- ì§ˆë¬¸ ê²Œì‹œê¸€ ì¢‹ì•„ìš”
CREATE TABLE inquiry_like (	
like_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,	
inquiry_id BIGINT UNSIGNED NOT NULL,	
user_id BIGINT UNSIGNED NOT NULL,	
liked_created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,	
PRIMARY KEY (like_id),	
UNIQUE (inquiry_id, user_id),	
FOREIGN KEY (inquiry_id) REFERENCES inquiry (inquiry_id),	
FOREIGN KEY (user_id) REFERENCES user (user_id)	
);			
	
  ```
  </details>
  
</details>

<hr>


## ğŸ§¾â³â° DML ë° í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ ì§„í–‰.

<details>
  <summary>DML</summary>
  <details>
     <summary>íšŒì› ê´€ë ¨</summary>
      <details>
  <summary> 1. íšŒì› ë“±ë¡</summary>
  <img src="images/dml_images/íšŒì›ë“±ë¡.png" width="900">
  
```sql
DELIMITER // -- íšŒì›ë“±ë¡

CREATE PROCEDURE register_user (
    IN p_name VARCHAR(255),
    IN p_email VARCHAR(255),
    IN p_password VARCHAR(255),
    IN p_age INT UNSIGNED,
    IN p_phone VARCHAR(255),
    IN p_gender VARCHAR(255)
)
BEGIN
    DECLARE EXIT HANDLER FOR SQLEXCEPTION
    BEGIN
        ROLLBACK;
        SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'íšŒì›ê°€ì… ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
    END;

    START TRANSACTION;

    -- ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸
    IF EXISTS (
        SELECT 1 FROM user WHERE user_email = p_email
    ) THEN
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ì´ë©”ì¼ì…ë‹ˆë‹¤.';
    END IF;

    -- ì „í™”ë²ˆí˜¸ ì¤‘ë³µ í™•ì¸
    IF EXISTS (
        SELECT 1 FROM user WHERE user_phone_number = p_phone
    ) THEN
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ì „í™”ë²ˆí˜¸ì…ë‹ˆë‹¤.';
    END IF;

    -- íšŒì› ë“±ë¡
    INSERT INTO user (
        user_name,
        user_email,
        user_password,
        user_age,
        user_phone_number,
        user_gender
    ) VALUES (
        p_name,
        p_email,
        p_password,
        p_age,
        p_phone,
        p_gender
    );

    COMMIT;
END;
//

DELIMITER ;
```
</details>
          <details>
     <summary> 2. íšŒì› ìˆ˜ì •</summary>
        <img src="images/dml_images/íšŒì›ìˆ˜ì •.png" width="900">
            
  ```sql
        -- íšŒì›ì •ë³´ìˆ˜ì •
    DELIMITER // 
    CREATE PROCEDURE update_user_info (
        IN p_user_id BIGINT,
        IN p_name VARCHAR(255),
        IN p_email VARCHAR(255),
        IN p_age INT,
        IN p_phone VARCHAR(255),
        IN p_password VARCHAR(255)
    )
    BEGIN
        DECLARE EXIT HANDLER FOR SQLEXCEPTION
        BEGIN
            ROLLBACK;
            SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'íšŒì› ì •ë³´ ìˆ˜ì • ì¤‘ ì˜¤ë¥˜ ë°œìƒ';
        END;

    START TRANSACTION;

    -- ì „í™”ë²ˆí˜¸ ì¤‘ë³µ ì²´í¬ (ìê¸° ìì‹  ì œì™¸)
    IF EXISTS (
        SELECT 1 FROM user
        WHERE user_phone_number = p_phone AND user_id != p_user_id
    ) THEN
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ì´ë¯¸ ë“±ë¡ëœ ì „í™”ë²ˆí˜¸ì…ë‹ˆë‹¤.';
    END IF;

    -- ì´ë©”ì¼ ì¤‘ë³µ ì²´í¬ (ìê¸° ìì‹  ì œì™¸)
    IF EXISTS (
        SELECT 1 FROM user
        WHERE user_email = p_email AND user_id != p_user_id
    ) THEN
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ì´ë¯¸ ë“±ë¡ëœ ì´ë©”ì¼ì…ë‹ˆë‹¤.';
    END IF;

    -- ì‚¬ìš©ì ì •ë³´ ìˆ˜ì •
    UPDATE user
    SET
        user_name = p_name,
        user_email = p_email,
        user_age = p_age,
        user_phone_number = p_phone,
        user_password = p_password,
        user_modified_at = NOW()
    WHERE user_id = p_user_id;

    COMMIT;
    END;
    //
    
    DELIMITER ;
 ```
  </details>
          <details>
     <summary> 3. íšŒì› íƒˆí‡´</summary>
        <img src="images/dml_images/íšŒì›íƒˆí‡´.png" width="900">
  
  ```sql     
    -- íšŒì›ì‚­ì œì œ
    DELIMITER //
    
    CREATE PROCEDURE withdraw_user (
        IN p_user_id BIGINT
    )
    BEGIN
        DECLARE EXIT HANDLER FOR SQLEXCEPTION
        BEGIN
            ROLLBACK;
            SIGNAL SQLSTATE '45000'
            SET MESSAGE_TEXT = 'íšŒì› íƒˆí‡´ ì¤‘ ì˜¤ë¥˜ ë°œìƒ';
        END;

    START TRANSACTION;

    -- íšŒì› ì¡´ì¬ ì—¬ë¶€ í™•ì¸
    IF EXISTS (SELECT 1 FROM user WHERE user_id = p_user_id) THEN

        -- íƒˆí‡´ ì²˜ë¦¬ (ì†Œí”„íŠ¸ ì‚­ì œ)
        UPDATE user
        SET user_deleted_at = NOW()
        WHERE user_id = p_user_id;

        COMMIT;

    ELSE
        -- ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íšŒì›ì¼ ê²½ìš° ì˜ˆì™¸ ë°œìƒ
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'í•´ë‹¹ íšŒì›ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
    END IF;

    END;
    //
    
    DELIMITER ;
  ```
    
</details>
          <details>
     <summary> 4. íšŒì› ì¡°íšŒ</summary>
        <img src="images/dml_images/í™œì„±í™”ëœ íšŒì›ëª©ë¡ì¡°íšŒ.png" width="900">
</details>
  </details>

  <details>
  <summary>ê´€ë¦¬ì ì •ë³´ ê´€ë¦¬</summary>
  <details>
    <summary>1. ê´€ë¦¬ì ê°€ì…</summary>
       <img src="images/dml_images/ê´€ë¦¬ì ì •ë³´ ë“±ë¡ ë° ê²€ì¦.png" width="900">
  </details>
    <details>
    <summary>2. ê´€ë¦¬ì íƒˆí‡´</summary>
      <img src="images/dml_images/ê´€ë¦¬ì íƒˆí‡´.png" width="900">
  </details>
    <details>
    <summary>3. ê´€ë¦¬ì ì •ë³´ ìˆ˜ì •</summary>
      <img src="images/dml_images/ê´€ë¦¬ì ì •ë³´ ìˆ˜ì • ê²€ì¦.png" width="900">
  </details>
    <details>
    <summary>4. ê´€ë¦¬ì ì •ë³´ ì¡°íšŒ</summary>
      <img src="images/dml_images/ê´€ë¦¬ì ì •ë³´ ì¡°íšŒ.png" width="900">
  </details>
   </details>
  
  <details>
     <summary>ì „ë¬¸ê°€ ê´€ë ¨</summary>
      <details>
     <summary> 1. ì „ë¬¸ê°€ ë“±ë¡</summary>
        <img src="images/dml_images/ì „ë¬¸ê°€ ê°€ì… ë° ì¡°íšŒ.png" width="900">
      </details>
          <details>
     <summary> 2. ì „ë¬¸ê°€ ìˆ˜ì •</summary>
            <img src="images/dml_images/ì „ë¬¸ê°€ ìˆ˜ì • ë° ì¡°íšŒ.png" width="900">
      </details>
          <details>
     <summary> 3. ì „ë¬¸ê°€ íƒˆí‡´</summary>
            <img src="images/dml_images/ì „ë¬¸ê°€ íƒˆí‡´ ë° ì¡°íšŒ.png" width="900">
      </details>
          <details>
     <summary> 4. ì „ë¬¸ê°€ í™œë™ë‚´ì—­ ë³´ê¸° ì¡°íšŒ</summary>
            <img src="images/dml_images/ì „ë¬¸ê°€ í™œë™ ë‚´ì—­ ë³´ê¸°(ì¶œë ¥).png" width="900">
            
  ```sql    
      -- ì „ë¬¸ê°€ í™œë™ ë‚´ì—­ ë³´ê¸°(í”„ë¡œì‹œì €)
      DELIMITER //
      
      CREATE PROCEDURE expert_related_data(IN p_expert_id BIGINT)
      BEGIN
        
        DECLARE EXIT HANDLER FOR SQLEXCEPTION     -- ì˜ˆì™¸ ë°œìƒ ì‹œ ë¡¤ë°± ì²˜ë¦¬
        BEGIN
          ROLLBACK;
        END;
      
        START TRANSACTION;
      
        
        SELECT                -- ì „ë¬¸ê°€ ì •ë³´ + ìƒë‹´ê¸€ + ìœ ì € + ì¦ë¹™ìë£Œê¹Œì§€ ì—®ì–´ì„œ ì¡°íšŒ
          e.expert_id,
          e.expert_name,
          e.contact,
          c.counsel_id,
          c.title AS counsel_title,
          c.contents AS counsel_contents,
          c.created_at AS counsel_created_at,
          u.user_name,
          u.user_email,
          p.proof_id,
          p.proof_file_path
        FROM expert e
        LEFT JOIN counsel c ON c.expert_id = e.expert_id AND c.deleted_at IS NULL
          LEFT JOIN user u ON c.user_id = u.user_id
          LEFT JOIN proof p ON p.expert_id = e.expert_id
          WHERE e.expert_id = p_expert_id;
        
          COMMIT;
        END;
        //
        
        DELIMITER ;
  ```
   </details>
   </details>

 <details>
     <summary>í”¼í•´ ê²Œì‹œê¸€ ê´€ë ¨</summary>
      <details>
     <summary> 1. í”¼í•´ ê²Œì‹œê¸€ ë“±ë¡ ìš”ì²­</summary>
      <img src="images/dml_images/í”¼í•´ê²Œì‹œê¸€ë“±ë¡_post.png" width="900">

```sql
-- í”¼í•´ê²Œì‹œê¸€ë“±ë¡ + ë¶€ë™ì‚°ì •ë„ + ì‚¬ê¸°ìœ í˜•í˜•
DELIMITER //

CREATE PROCEDURE insert_post_with_property_and_fraud_types (
    IN p_user_id BIGINT,
    IN p_address VARCHAR(255),
    IN p_name VARCHAR(255),
    IN p_latitude DECIMAL(9,6),
    IN p_longitude DECIMAL(9,6),
    IN p_accident_number VARCHAR(255),
    IN p_accident_end_date DATETIME,
    IN p_title VARCHAR(255),
    IN p_content TEXT,
    IN p_fraud_ids JSON
)
BEGIN
    DECLARE v_properties_id BIGINT;
    DECLARE v_post_id BIGINT;
    DECLARE v_index INT DEFAULT 0;
    DECLARE v_fraud_id BIGINT;
    DECLARE v_total INT;

    DECLARE EXIT HANDLER FOR SQLEXCEPTION
    BEGIN
        ROLLBACK;
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ê²Œì‹œê¸€ ë° ì‚¬ê¸°ìœ í˜• ë“±ë¡ ì¤‘ ì˜¤ë¥˜ ë°œìƒ';
    END;

    START TRANSACTION;

    -- 1. ë¶€ë™ì‚° ì •ë³´ ì‚½ì…
    INSERT IGNORE INTO properties (
        properties_address, properties_name, properties_latitude, properties_longitude
    ) VALUES (
        p_address, p_name, p_latitude, p_longitude
    );

    -- 2. í•´ë‹¹ ë¶€ë™ì‚° ID ì¡°íšŒ
    SELECT properties_id INTO v_properties_id
    FROM properties
    WHERE properties_address = p_address
      AND properties_name = p_name
      AND properties_latitude = p_latitude
      AND properties_longitude = p_longitude;

    -- 3. ê²Œì‹œê¸€ ì‚½ì…
    INSERT INTO post (
        user_id, properties_id, post_accident_number, post_accident_end_date,
        post_title, post_content, post_created_at
    ) VALUES (
        p_user_id, v_properties_id, p_accident_number, p_accident_end_date,
        p_title, p_content, NOW()
    );

    -- 4. post_id ê°€ì ¸ì˜¤ê¸°
    SET v_post_id = LAST_INSERT_ID();

    -- 5. JSON ë°°ì—´ì—ì„œ fraud_id í•˜ë‚˜ì”© êº¼ë‚´ì„œ ì—°ê²°
    SET v_total = JSON_LENGTH(p_fraud_ids);
    WHILE v_index < v_total DO
        SET v_fraud_id = CAST(JSON_UNQUOTE(JSON_EXTRACT(p_fraud_ids, CONCAT('$[', v_index, ']'))) AS UNSIGNED);
        INSERT INTO fraud_type_connect (post_id, fraud_id)
        VALUES (v_post_id, v_fraud_id);
        SET v_index = v_index + 1;
    END WHILE;

    COMMIT;
END //

DELIMITER ;
```
 </details>
          <details>
     <summary> 2. í”¼í•´ ê²Œì‹œê¸€ ìˆ˜ì • ìš”ì²­</summary>
        <img src="images/dml_images/1_ê²Œì‹œê¸€ ìˆ˜ì • ìš”ì²­.png" width="900">

```sql
-- í”¼í•´ê²Œì‹œê¸€ ìˆ˜ì • ìš”ì²­
-- ê²Œì‹œê¸€ì„ ìˆ˜ì • ìš”ì²­ í–ˆì„ ë•Œ, status 'ìˆ˜ì • ìš”ì²­'ìœ¼ë¡œ ë°”ë€ŒëŠ” í”„ë¡œì‹œì €

DELIMITER //

CREATE PROCEDURE request_post_update (
    IN p_post_id BIGINT,
    IN p_user_id BIGINT,
    IN p_title VARCHAR(255),
    IN p_content TEXT,
    IN p_accident_number VARCHAR(255),
    IN p_accident_end_date DATETIME
)
BEGIN
    DECLARE EXIT HANDLER FOR SQLEXCEPTION
    BEGIN
        ROLLBACK;
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ìˆ˜ì • ìš”ì²­ ì¤‘ ì˜¤ë¥˜ ë°œìƒ';
    END;

    START TRANSACTION;

    UPDATE post
    SET
        post_title = p_title,
        post_content = p_content,
        post_accident_number = p_accident_number,
        post_accident_end_date = p_accident_end_date,
        post_status = 'ìˆ˜ì • ìš”ì²­',
        post_updated_at = NOW()
    WHERE post_id = p_post_id AND user_id = p_user_id;

    COMMIT;
END;
//

DELIMITER ;
```
</details>
          <details>
     <summary> 3. í”¼í•´ ê²Œì‹œê¸€ ì‚­ì œ ìš”ì²­</summary>
        <img src="images/dml_images/í”¼í•´ê²Œì‹œê¸€ì‚­ì œ.png" width="900">

```sql
-- í”¼í•´ê²Œì‹œê¸€ ì‚­ì œ
DELIMITER //

CREATE PROCEDURE delete_post_soft (
    IN p_post_id BIGINT,
    IN p_user_id BIGINT
)
BEGIN
    DECLARE EXIT HANDLER FOR SQLEXCEPTION
    BEGIN
        ROLLBACK;
        SIGNAL SQLSTATE '45000' 
        SET MESSAGE_TEXT = 'í”¼í•´ ê²Œì‹œê¸€ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ';
    END;

    START TRANSACTION;

    -- ê²Œì‹œê¸€ ì†Œìœ ì í™•ì¸ ë° ì‚­ì œ ì²˜ë¦¬ (soft delete)
    UPDATE post
    SET post_deleted_at = NOW()
    WHERE post_id = p_post_id AND user_id = p_user_id;

    -- ì‚­ì œ ë°˜ì˜ ì—¬ë¶€ í™•ì¸
    IF ROW_COUNT() = 0 THEN
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ê²Œì‹œê¸€ì´ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜ ì‚­ì œ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.';
    END IF;

    COMMIT;
END;
//

DELIMITER ;
```
</details>
          <details>
     <summary> 4. í”¼í•´ ê²Œì‹œê¸€ ì¡°íšŒ</summary>
          <img src="images/dml_images/ì£¼ì†Œê²€ìƒ‰.png" width="900">

```sql
-- ìŠ¹ì¸ëœ ê²Œì‹œê¸€ ì£¼ì†Œì¡°íšŒ
DELIMITER //

CREATE PROCEDURE search_posts_by_address(IN input_address VARCHAR(255))
BEGIN
    SELECT
        p.post_id,
        p.post_title,
        p.post_content,
        p.post_created_at,
        pr.properties_id,
        pr.properties_address,
        pr.properties_name
    FROM post p
    INNER JOIN properties pr ON p.properties_id = pr.properties_id
    WHERE pr.properties_address LIKE CONCAT('%', input_address, '%')
      AND p.post_status = 'ìŠ¹ì¸'; 
END //

DELIMITER ;
```
</details>
      <details>
     <summary> 5. í”¼í•´ ê²Œì‹œê¸€ ë“±ë¡ ìŠ¹ì¸</summary>
        <img src="images/dml_images/1_ì‹ ê³ ê²Œì‹œê¸€ ìŠ¹ì¸ ì™„ë£Œ.png" width="900">
        
```sql
DELIMITER //

CREATE PROCEDURE admin_update_post_status (
    IN p_post_id BIGINT,
    IN p_admin_id BIGINT,
    IN p_post_status ENUM('ìŠ¹ì¸', 'ë°˜ë ¤'),
    IN p_rejected_reason VARCHAR(255)
)
BEGIN
    DECLARE EXIT HANDLER FOR SQLEXCEPTION
    BEGIN
        ROLLBACK;
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ê²Œì‹œê¸€ ìƒíƒœ ë³€ê²½ ì¤‘ ì˜¤ë¥˜ ë°œìƒ';
    END;

    START TRANSACTION;

    -- ìƒíƒœê°€ ìŠ¹ì¸ì¼ ê²½ìš° ë°˜ë ¤ ì‚¬ìœ ëŠ” NULLë¡œ ì²˜ë¦¬
    IF p_post_status = 'ìŠ¹ì¸' THEN
        UPDATE post
        SET 
            post_status = p_post_status,
            post_rejected_reason = NULL,
            approve_admin = p_admin_id,
            post_updated_at = NOW()
        WHERE post_id = p_post_id;
    ELSEIF p_post_status = 'ë°˜ë ¤' THEN
        UPDATE post
        SET 
            post_status = p_post_status,
            post_rejected_reason = p_rejected_reason,
            approve_admin = p_admin_id,
            post_updated_at = NOW()
        WHERE post_id = p_post_id;
    ELSE
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'post_statusëŠ” ìŠ¹ì¸ ë˜ëŠ” ë°˜ë ¤ë§Œ í—ˆìš©ë©ë‹ˆë‹¤';
    END IF;

    COMMIT;
END;
//

DELIMITER ;
```
  </details>
          <details>
     <summary> 6. í”¼í•´ ê²Œì‹œê¸€ ìˆ˜ì • ìŠ¹ì¸</summary>
            <img src="images/dml_images/2_ê²Œì‹œê¸€ ìˆ˜ì • ìš”ì²­ ìŠ¹ì¸.png" width="900">

```sql
-- adminì´ postë¥¼ ìŠ¹ì¸, ë°˜ë ¤ í•˜ëŠ” í”„ë¡œì‹œì €
 -- ìŠ¹ì¸, ë°˜ë ¤ í•  ê²½ìš° log_list íŠ¸ë¦¬ê±°ê°€ ìë™ ì‹¤í–‰ë˜ì–´ log_listì— ì—…ë¡œë“œ

DELIMITER //

CREATE PROCEDURE admin_update_post_status (
    IN p_post_id BIGINT,
    IN p_admin_id BIGINT,
    IN p_post_status ENUM('ìŠ¹ì¸', 'ë°˜ë ¤'),
    IN p_rejected_reason VARCHAR(255)
)
BEGIN
    DECLARE EXIT HANDLER FOR SQLEXCEPTION
    BEGIN
        ROLLBACK;
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ê²Œì‹œê¸€ ìƒíƒœ ë³€ê²½ ì¤‘ ì˜¤ë¥˜ ë°œìƒ';
    END;

    START TRANSACTION;

    -- ìƒíƒœê°€ ìŠ¹ì¸ì¼ ê²½ìš° ë°˜ë ¤ ì‚¬ìœ ëŠ” NULLë¡œ ì²˜ë¦¬
    IF p_post_status = 'ìŠ¹ì¸' THEN
        UPDATE post
        SET 
            post_status = p_post_status,
            post_rejected_reason = NULL,
            approve_admin = p_admin_id,
            post_updated_at = NOW()
        WHERE post_id = p_post_id;
    ELSEIF p_post_status = 'ë°˜ë ¤' THEN
        UPDATE post
        SET 
            post_status = p_post_status,
            post_rejected_reason = p_rejected_reason,
            approve_admin = p_admin_id,
            post_updated_at = NOW()
        WHERE post_id = p_post_id;
    ELSE
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'post_statusëŠ” ìŠ¹ì¸ ë˜ëŠ” ë°˜ë ¤ë§Œ í—ˆìš©ë©ë‹ˆë‹¤';
    END IF;

    COMMIT;
END;
//

DELIMITER ;
```
</details>
             <details>
     <summary> 7. ë¶€ë™ì‚° ì •ë³´ë“±ë¡</summary>
            <img src="images/dml_images/ë¶€ë™ì‚°ì •ë³´ë“±ë¡.png" width="900">

```sql
-- í”¼í•´ê²Œì‹œê¸€ë“±ë¡ + ë¶€ë™ì‚°ì •ë„ + ì‚¬ê¸°ìœ í˜•í˜•
DELIMITER //

CREATE PROCEDURE insert_post_with_property_and_fraud_types (
    IN p_user_id BIGINT,
    IN p_address VARCHAR(255),
    IN p_name VARCHAR(255),
    IN p_latitude DECIMAL(9,6),
    IN p_longitude DECIMAL(9,6),
    IN p_accident_number VARCHAR(255),
    IN p_accident_end_date DATETIME,
    IN p_title VARCHAR(255),
    IN p_content TEXT,
    IN p_fraud_ids JSON
)
BEGIN
    DECLARE v_properties_id BIGINT;
    DECLARE v_post_id BIGINT;
    DECLARE v_index INT DEFAULT 0;
    DECLARE v_fraud_id BIGINT;
    DECLARE v_total INT;

    DECLARE EXIT HANDLER FOR SQLEXCEPTION
    BEGIN
        ROLLBACK;
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ê²Œì‹œê¸€ ë° ì‚¬ê¸°ìœ í˜• ë“±ë¡ ì¤‘ ì˜¤ë¥˜ ë°œìƒ';
    END;

    START TRANSACTION;

    -- 1. ë¶€ë™ì‚° ì •ë³´ ì‚½ì…
    INSERT IGNORE INTO properties (
        properties_address, properties_name, properties_latitude, properties_longitude
    ) VALUES (
        p_address, p_name, p_latitude, p_longitude
    );

    -- 2. í•´ë‹¹ ë¶€ë™ì‚° ID ì¡°íšŒ
    SELECT properties_id INTO v_properties_id
    FROM properties
    WHERE properties_address = p_address
      AND properties_name = p_name
      AND properties_latitude = p_latitude
      AND properties_longitude = p_longitude;

    -- 3. ê²Œì‹œê¸€ ì‚½ì…
    INSERT INTO post (
        user_id, properties_id, post_accident_number, post_accident_end_date,
        post_title, post_content, post_created_at
    ) VALUES (
        p_user_id, v_properties_id, p_accident_number, p_accident_end_date,
        p_title, p_content, NOW()
    );

    -- 4. post_id ê°€ì ¸ì˜¤ê¸°
    SET v_post_id = LAST_INSERT_ID();

    -- 5. JSON ë°°ì—´ì—ì„œ fraud_id í•˜ë‚˜ì”© êº¼ë‚´ì„œ ì—°ê²°
    SET v_total = JSON_LENGTH(p_fraud_ids);
    WHILE v_index < v_total DO
        SET v_fraud_id = CAST(JSON_UNQUOTE(JSON_EXTRACT(p_fraud_ids, CONCAT('$[', v_index, ']'))) AS UNSIGNED);
        INSERT INTO fraud_type_connect (post_id, fraud_id)
        VALUES (v_post_id, v_fraud_id);
        SET v_index = v_index + 1;
    END WHILE;

    COMMIT;
END //

DELIMITER ;
```
</details>
             <details>
     <summary> 8. ì‚¬ê¸° ìœ í˜• ì—°ê²°</summary>
            <img src="images/dml_images/ì‚¬ê¸°ìœ í˜•ì—°ê²°.png" width="900">
      </details>
  </details>
  
  
 <details>
     <summary>ì§ˆë¬¸ ê²Œì‹œê¸€ ê´€ë ¨</summary>
      <details>
     <summary> 1. ì§ˆë¬¸ ê²Œì‹œê¸€ ë“±ë¡</summary>
        <img src="images/dml_images/ì§ˆë¬¸ ê²Œì‹œê¸€ ë“±ë¡.png" width="900">
      </details>
          <details>
     <summary> 2. ì§ˆë¬¸ ê²Œì‹œê¸€ ìˆ˜ì •</summary>
            <img src="images/dml_images/ì§ˆë¬¸ ê²Œì‹œê¸€ ìˆ˜ì •.png" width="900">
      </details>
          <details>
     <summary> 3. ì§ˆë¬¸ ê²Œì‹œê¸€ ì‚­ì œ</summary>
            <img src="images/dml_images/ì§ˆë¬¸ ê²Œì‹œê¸€ ëŒ“ê¸€ ì‚­ì œ.png" width="900">
            
```sql
-- ì§ˆë¬¸ ê²Œì‹œê¸€ ì‚­ì œ í”„ë¡œì‹œì €
DELIMITER //

CREATE PROCEDURE delete_inquiry_and_related (
    IN p_inquiry_id BIGINT
)
BEGIN
    -- ì¢‹ì•„ìš” ìˆ˜ 0ìœ¼ë¡œ ì„¤ì • ë° ê²Œì‹œê¸€ ì‚­ì œ ì²˜ë¦¬
    UPDATE inquiry
    SET inquiry_like_count = 0,
        inquiry_deleted_at = NOW()
    WHERE inquiry_id = p_inquiry_id;

    -- ëŒ“ê¸€ soft delete
    UPDATE reply
    SET reply_deleted_at = NOW()
    WHERE inquiry_id = p_inquiry_id;

    -- ëŒ€ëŒ“ê¸€ ì‚­ì œ
    UPDATE reply
    SET reply_deleted_at = NOW()
    WHERE inquiry_id = p_inquiry_id
      AND reply_parent_id IS NOT NULL;
    
    -- ê²Œì‹œê¸€ soft delete
    UPDATE inquiry
    SET inquiry_deleted_at = NOW()
    WHERE inquiry_id = p_inquiry_id;

END //

DELIMITER ;
```
  </details>
          <details>
     <summary> 4. ì§ˆë¬¸ ê²Œì‹œê¸€ ì¡°íšŒ</summary>
            <img src="images/dml_images/ì§ˆë¬¸ ê²Œì‹œê¸€ ì¡°íšŒ.png" width="900">
      </details>
  </details>

   <details>
     <summary>ê³µì§€ì‚¬í•­ ê´€ë ¨</summary>
      <details>
     <summary> 1. ê³µì§€ì‚¬í•­ ë“±ë¡</summary>
      <img src="images/dml_images/ê³µì§€ì‚¬í•­ ë“±ë¡.png" width="900">

   ```sql
-- ê³µì§€ì‚¬í•­ ê²Œì‹œê¸€ ë“±ë¡ í”„ë¡œì‹œì € 
DELIMITER //

CREATE PROCEDURE add_notice (
    IN p_title VARCHAR(255),
    IN p_content TEXT,
    IN p_admin_id BIGINT
)
BEGIN
    DECLARE admin_exists INT;

    -- ìœ íš¨í•œ ê´€ë¦¬ì(ì‚­ì œë˜ì§€ ì•ŠìŒ)ì¸ì§€ í™•ì¸
    SELECT COUNT(*) INTO admin_exists
    FROM admin
    WHERE admin_id = p_admin_id AND admin_end_at IS NULL;

    IF admin_exists = 0 THEN
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ì‚­ì œëœ ê´€ë¦¬ìì´ê±°ë‚˜ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê´€ë¦¬ìì…ë‹ˆë‹¤.';
    ELSE
        INSERT INTO notice (announce_title, announce_content, admin_id)
        VALUES (p_title, p_content, p_admin_id);
    END IF;
END //

DELIMITER ;
  ```
  </details>
  <details>
     <summary> 2. ê³µì§€ì‚¬í•­ ìˆ˜ì •</summary>
      <img src="images/dml_images/ê³µì§€ì‚¬í•­ ìˆ˜ì •.png" width="900">
    
```sql
-- ê³µì§€ì‚¬í•­ ìˆ˜ì • í”„ë¡œì‹œì €
DELIMITER //

CREATE PROCEDURE update_notice (
    IN p_notice_id BIGINT,
    IN p_title VARCHAR(255),
    IN p_content TEXT,
    IN p_admin_id BIGINT
)
BEGIN
    DECLARE admin_exists INT;

    -- ê´€ë¦¬ì ìœ íš¨ì„± ê²€ì‚¬
    SELECT COUNT(*) INTO admin_exists
    FROM admin
    WHERE admin_id = p_admin_id AND admin_end_at IS NULL;

    IF admin_exists = 0 THEN
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ì‚­ì œëœ ê´€ë¦¬ìì´ê±°ë‚˜ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê´€ë¦¬ìì…ë‹ˆë‹¤.';
    ELSE
        UPDATE notice
        SET announce_title = p_title,
            announce_content = p_content,
            announce_updated_at = NOW()
        WHERE announce_id = p_notice_id;
    END IF;
END //

DELIMITER ;
  ```
  </details>
          <details>
     <summary> 3. ê³µì§€ì‚¬í•­ ì‚­ì œ</summary>
            <img src="images/dml_images/ê³µì§€ì‚¬í•­ ì‚­ì œ.png" width="900">
            
```sql
-- ê³µì§€ì‚¬í•­ ìˆ˜ì • í”„ë¡œì‹œì €
DELIMITER //

CREATE PROCEDURE update_notice (
    IN p_notice_id BIGINT,
    IN p_title VARCHAR(255),
    IN p_content TEXT,
    IN p_admin_id BIGINT
)
BEGIN
    DECLARE admin_exists INT;

    -- ê´€ë¦¬ì ìœ íš¨ì„± ê²€ì‚¬
    SELECT COUNT(*) INTO admin_exists
    FROM admin
    WHERE admin_id = p_admin_id AND admin_end_at IS NULL;

    IF admin_exists = 0 THEN
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ì‚­ì œëœ ê´€ë¦¬ìì´ê±°ë‚˜ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê´€ë¦¬ìì…ë‹ˆë‹¤.';
    ELSE
        UPDATE notice
        SET announce_title = p_title,
            announce_content = p_content,
            announce_updated_at = NOW()
        WHERE announce_id = p_notice_id;
    END IF;
END //

DELIMITER ;
```
  </details>
          <details>
     <summary> 4. ê³µì§€ì‚¬í•­ ì¡°íšŒ</summary>
            <img src="images/dml_images/ê³µì§€ì‚¬í•­ ì¡°íšŒ.png" width="900">
      </details>
  </details>
     <details>
     <summary>ìƒë‹´ ê²Œì‹œê¸€ ê´€ë ¨</summary>
      <details>
     <summary> 1. ìƒë‹´ ê²Œì‹œê¸€ ë“±ë¡</summary>
        <img src="images/dml_images/ìƒë‹´ê²Œì‹œê¸€ ë“±ë¡ ë° ì¡°íšŒ.png" width="900">
      </details>
          <details>
     <summary> 2. ìƒë‹´ ê²Œì‹œê¸€ ìˆ˜ì •</summary>
            <img src="images/dml_images/ìƒë‹´ê²Œì‹œê¸€ ìˆ˜ì • ë° ì¡°íšŒ.png" width="900">
      </details>
          <details>
     <summary> 3. ìƒë‹´ ê²Œì‹œê¸€ ì‚­ì œ</summary>
            <img src="images/dml_images/ìƒë‹´ê²Œì‹œê¸€ ì‚­ì œ ë° ì¡°íšŒ.png" width="900">
      </details>
          <details>
     <summary> 4. ìƒë‹´ ê²Œì‹œê¸€ ì¡°íšŒ(ì¹´í…Œê³ ë¦¬ë³„, ìƒíƒœë³„)</summary>
            <img src="images/dml_images/ìƒë‹´ê²Œì‹œê¸€ ì¹´í…Œê³ ë¦¬ë³„ ê°œìˆ˜ ì¡°íšŒ.png" width="450">
            <img src="images/dml_images/ìƒë‹´ê²Œì‹œê¸€ Statusë³„ ê°œìˆ˜ ì¡°íšŒ.png" width="450">
      </details>
  </details>

 <details>
     <summary>ëŒ“ê¸€ ê´€ë ¨</summary>
      <details>
     <summary> 1. ëŒ“ê¸€ ë“±ë¡</summary>
        ì§ˆë¬¸ê²Œì‹œê¸€ ëŒ“ê¸€ ë“±ë¡ / í”¼í•´ê²Œì‹œê¸€ ëŒ“ê¸€ ë“±ë¡
        <div>
        <img src="images/dml_images/ì§ˆë¬¸ ê²Œì‹œê¸€ ëŒ“ê¸€ ì‘ì„±.png" width="450">
        <img src="images/dml_images/í”¼í•´ê²Œì‹œê¸€ ëŒ“ê¸€ë‹¬ê¸°.png" width="450">
          
```sql
-- ëŒ“ê¸€ ìƒì„± í”„ë¡œì‹œì €
DELIMITER //

CREATE PROCEDURE add_comment_and_alert (
    IN p_user_id BIGINT,
    IN p_inquiry_id BIGINT,
    IN p_reply_content VARCHAR(255)
)
BEGIN
    DECLARE post_owner_id BIGINT;

    -- ëŒ“ê¸€ ë“±ë¡
    INSERT INTO reply (user_id, inquiry_id, reply_content)
    VALUES (p_user_id, p_inquiry_id, p_reply_content);

    -- ê²Œì‹œê¸€ ì‘ì„±ì í™•ì¸
    SELECT user_id INTO post_owner_id
    FROM inquiry
    WHERE inquiry_id = p_inquiry_id;

    -- ì•Œë¦¼: ê²Œì‹œê¸€ ì‘ì„±ìì—ê²Œë§Œ (ìê¸° ìì‹ ì´ ì•„ë‹Œ ê²½ìš°)
    IF post_owner_id != p_user_id THEN
        INSERT INTO alerts (user_id, inquiry_id, notice_message)
        VALUES (post_owner_id, p_inquiry_id, 'ìƒˆ ëŒ“ê¸€ì´ ë‹¬ë ¸ìŠµë‹ˆë‹¤.');
    END IF;
END //

DELIMITER ;
  ```
  </div>
      </details>
          <details>
     <summary> 2. ëŒ“ê¸€ ìˆ˜ì •</summary>
        ì§ˆë¬¸ê²Œì‹œê¸€ ëŒ“ê¸€ ìˆ˜ì • / í”¼í•´ê²Œì‹œê¸€ ëŒ“ê¸€ ìˆ˜ì •
        <div>
       <img src="images/dml_images/ëŒ“ê¸€ ìˆ˜ì •.png" width="450">
      <img src="images/dml_images/í”¼í•´ê²Œì‹œê¸€ ëŒ“ê¸€ìˆ˜ì •.png" width="450">
        </div>
      </details>
          <details>
     <summary> 3. ëŒ“ê¸€ ì‚­ì œ</summary>
        ì§ˆë¬¸ê²Œì‹œê¸€ ëŒ“ê¸€ ì‚­ì œ / í”¼í•´ê²Œì‹œê¸€ ëŒ“ê¸€ ì‚­ì œ
        <div>
        <img src="images/dml_images/ì§ˆë¬¸ ê²Œì‹œê¸€ ëŒ“ê¸€ ì‚­ì œ.png" width="450">
        <img src="images/dml_images/í”¼í•´ê²Œì‹œê¸€ ëŒ“ê¸€ì‚­ì œ.png" width="450">
          
```sql
-- í”¼í•´ê²Œì‹œê¸€ ëŒ“ê¸€ì‚­ì œ + ëŒ€ëŒ“ê¸€ ì‚­ì œ
DELIMITER //

CREATE PROCEDURE delete_comment_and_replies (
    IN p_reply_id BIGINT
)
BEGIN
    DECLARE is_parent_comment BOOLEAN;

    -- ë¶€ëª¨ ëŒ“ê¸€ ì—¬ë¶€ í™•ì¸
    SELECT reply_parent_id IS NULL INTO is_parent_comment
    FROM reply
    WHERE reply_id = p_reply_id;

    IF is_parent_comment THEN
        -- ë¶€ëª¨ ëŒ“ê¸€ ì‚­ì œ
        UPDATE reply
        SET reply_deleted_at = NOW()
        WHERE reply_id = p_reply_id;

        -- ëŒ€ëŒ“ê¸€ ì‚­ì œ
        UPDATE reply
        SET reply_deleted_at = NOW()
        WHERE reply_parent_id = p_reply_id;
    ELSE
        -- ëŒ€ëŒ“ê¸€ë§Œ ì‚­ì œ
        UPDATE reply
        SET reply_deleted_at = NOW()
        WHERE reply_id = p_reply_id;
    END IF;
END//

DELIMITER ;
```
</div>
      </details>
          <details>
     <summary> 4. ëŒ“ê¸€ ì¡°íšŒ</summary>
          ì§ˆë¬¸ê²Œì‹œê¸€ ëŒ“ê¸€ ì¡°íšŒ / í”¼í•´ê²Œì‹œê¸€ ëŒ“ê¸€ ì¡°íšŒ
         <div>
         <img src="images/dml_images/ëŒ“ê¸€ ì¡°íšŒ.png" width="450">
         <img src="images/dml_images/í”¼í•´ê²Œì‹œê¸€ ëŒ“ê¸€ì¡°íšŒ.png" width="450">
         </div>
      </details>
    <details>
        <summary> 5. ëŒ€ëŒ“ê¸€ ë“±ë¡</summary>
      ì§ˆë¬¸ê²Œì‹œê¸€ ëŒ€ëŒ“ê¸€ ë“±ë¡ / í”¼í•´ê²Œì‹œê¸€ ëŒ€ëŒ“ê¸€ ë“±ë¡
      <div>
       <img src="images/dml_images/ì§ˆë¬¸ ê²Œì‹œê¸€ ëŒ€ëŒ“ê¸€ ì¶”ê°€.png" width="450">
      <img src="images/dml_images/í”¼í•´ê²Œì‹œê¸€ ëŒ€ëŒ“ê¸€ë‹¬ê¸°.png" width="450">
        
```sql
-- ëŒ€ëŒ“ê¸€ ìƒì„± í”„ë¡œì‹œì €
DELIMITER //

CREATE PROCEDURE add_reply_to_reply_and_alert (
    IN p_user_id BIGINT,
    IN p_inquiry_id BIGINT,
    IN p_reply_parent_id BIGINT,
    IN p_reply_content VARCHAR(255)
)
BEGIN
    DECLARE parent_writer_id BIGINT;
    DECLARE post_owner_id BIGINT;
    DECLARE parent_inquiry_id BIGINT;

    -- ë¶€ëª¨ ëŒ“ê¸€ì˜ ê²Œì‹œê¸€ ID í™•ì¸
    SELECT inquiry_id, user_id INTO parent_inquiry_id, parent_writer_id
    FROM reply
    WHERE reply_id = p_reply_parent_id;

    -- ë¶€ëª¨ ëŒ“ê¸€ì˜ ê²Œì‹œê¸€ IDê°€ ë‹¤ë¥´ë©´ ì˜ˆì™¸ ì²˜ë¦¬
    IF parent_inquiry_id != p_inquiry_id THEN
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ëŒ€ëŒ“ê¸€ì˜ ë¶€ëª¨ ëŒ“ê¸€ì´ í•´ë‹¹ ê²Œì‹œê¸€ì— ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
    END IF;

    -- ëŒ€ëŒ“ê¸€ ë“±ë¡
    INSERT INTO reply (user_id, inquiry_id, reply_content, reply_parent_id, reply_created_at)
    VALUES (p_user_id, p_inquiry_id, p_reply_content, p_reply_parent_id, NOW());

    -- ê²Œì‹œê¸€ ì‘ì„±ì
    SELECT user_id INTO post_owner_id
    FROM inquiry
    WHERE inquiry_id = p_inquiry_id;

    -- ì•Œë¦¼: ë¶€ëª¨ ëŒ“ê¸€ ì‘ì„±ìì—ê²Œ (ìê¸° ìì‹ ì´ ì•„ë‹Œ ê²½ìš°)
    IF parent_writer_id != p_user_id THEN
        INSERT INTO alerts (user_id, reply_id, notice_message)
        VALUES (parent_writer_id, p_reply_parent_id, 'ë‚´ ëŒ“ê¸€ì— ëŒ€ëŒ“ê¸€ì´ ë‹¬ë ¸ìŠµë‹ˆë‹¤.');
    END IF;

    -- ì•Œë¦¼: ê²Œì‹œê¸€ ì‘ì„±ìì—ê²Œë„ (ìê¸° ìì‹ ì´ ì•„ë‹Œ ê²½ìš°)
    IF post_owner_id != p_user_id AND post_owner_id != parent_writer_id THEN
        INSERT INTO alerts (user_id, inquiry_id, notice_message)
        VALUES (post_owner_id, p_inquiry_id, 'ê²Œì‹œê¸€ì— ìƒˆë¡œìš´ ëŒ“ê¸€ì´ ë‹¬ë ¸ìŠµë‹ˆë‹¤.');
    END IF;
END //

DELIMITER ;
```
</div>
      </details>
          <details>
     <summary> 6. ëŒ€ëŒ“ê¸€ ìˆ˜ì •</summary>
        <div>
        ì§ˆë¬¸ê²Œì‹œê¸€ ëŒ€ëŒ“ê¸€ ìˆ˜ì • / í”¼í•´ê²Œì‹œê¸€ ëŒ€ëŒ“ê¸€ ìˆ˜ì •
        <img src="images/dml_images/ëŒ€ëŒ“ê¸€ ìˆ˜ì •.png" width="450">
        <img src="images/dml_images/í”¼í•´ê²Œì‹œê¸€ ëŒ€ëŒ“ê¸€ìˆ˜ì •.png" width="450">
        </div>
      </details>
          <details>
     <summary> 7. ëŒ€ëŒ“ê¸€ ì‚­ì œ</summary>
        <div>
        ì§ˆë¬¸ê²Œì‹œê¸€ ëŒ€ëŒ“ê¸€ ì‚­ì œ / í”¼í•´ê²Œì‹œê¸€ ëŒ€ëŒ“ê¸€ ì‚­ì œ
        <img src="images/dml_images/ì§ˆë¬¸ ê²Œì‹œê¸€ ëŒ“ê¸€ ë° ëŒ€ëŒ“ê¸€ ì‚­ì œ.png" width="450">
        <img src="images/dml_images/í”¼í•´ê²Œì‹œê¸€ ëŒ€ëŒ“ê¸€ì‚­ì œ.png" width="450">
</div>
      </details>
          <details>
     <summary> 8. ëŒ€ëŒ“ê¸€ ì¡°íšŒ</summary>
        ì§ˆë¬¸ê²Œì‹œê¸€ ëŒ€ëŒ“ê¸€ ì¡°íšŒ / í”¼í•´ê²Œì‹œê¸€ ëŒ€ëŒ“ê¸€ ì¡°íšŒ
        <div>
        <img src="images/dml_images/ëŒ€ëŒ“ê¸€ ì¡°íšŒ.png" width="450">
        <img src="images/dml_images/í”¼í•´ê²Œì‹œê¸€ ëŒ€ëŒ“ê¸€ì¢‹.png" width="450">
        </div>
      </details>
</details>
   <details>
     <summary>ì•Œë¦¼ ê´€ë ¨</summary>
      <details>
     <summary> 1. ì§ˆë¬¸ê²Œì‹œê¸€ ëŒ“ê¸€ ì•Œë¦¼ ë°œì†¡ ë° ì¡°íšŒ</summary>
      <img src="images/dml_images/ì§ˆë¬¸ ê²Œì‹œê¸€ ëŒ“ê¸€ ë“±ë¡ ì•Œë¦¼.png" width="900">

```sql
DELIMITER //
CREATE PROCEDURE add_comment_and_alert (
    IN p_user_id BIGINT,
    IN p_inquiry_id BIGINT,
    IN p_reply_content VARCHAR(255)
)
BEGIN
    DECLARE post_owner_id BIGINT;

    -- ëŒ“ê¸€ ë“±ë¡
    INSERT INTO reply (user_id, inquiry_id, reply_content)
    VALUES (p_user_id, p_inquiry_id, p_reply_content);

    -- ê²Œì‹œê¸€ ì‘ì„±ì í™•ì¸
    SELECT user_id INTO post_owner_id
    FROM inquiry
    WHERE inquiry_id = p_inquiry_id;

    -- ì•Œë¦¼: ê²Œì‹œê¸€ ì‘ì„±ìì—ê²Œë§Œ (ìê¸° ìì‹ ì´ ì•„ë‹Œ ê²½ìš°)
    IF post_owner_id != p_user_id THEN
        INSERT INTO alerts (user_id, inquiry_id, notice_message)
        VALUES (post_owner_id, p_inquiry_id, 'ìƒˆ ëŒ“ê¸€ì´ ë‹¬ë ¸ìŠµë‹ˆë‹¤.');
    END IF;
END //

DELIMITER ;
```
  </details>
      <details>
     <summary> 2. í”¼í•´ê²Œì‹œê¸€ ëŒ“ê¸€ ì•Œë¦¼ ë°œì†¡ ë° ì¡°íšŒ</summary>
      <img src="images/dml_images/í”¼í•´ê²Œì‹œê¸€ ëŒ“ê¸€ì•Œë¦¼.png" width="900">
        
```sql
DELIMITER //

CREATE PROCEDURE add_post_comment_and_alert (
    IN p_user_id BIGINT,
    IN p_post_id BIGINT,
    IN p_reply_content VARCHAR(255)
)
BEGIN
    DECLARE post_owner_id BIGINT;

    -- ëŒ“ê¸€ ë“±ë¡
    INSERT INTO reply (user_id, post_id, reply_content)
    VALUES (p_user_id, p_post_id, p_reply_content);

    -- ê²Œì‹œê¸€ ì‘ì„±ì í™•ì¸
    SELECT user_id INTO post_owner_id
    FROM post
    WHERE post_id = p_post_id;

    -- ì•Œë¦¼: ê²Œì‹œê¸€ ì‘ì„±ìì—ê²Œë§Œ (ìê¸° ìì‹ ì´ ì•„ë‹Œ ê²½ìš°)
    IF post_owner_id != p_user_id THEN
        INSERT INTO alerts (user_id, post_id, notice_message)
        VALUES (post_owner_id, p_post_id, 'ìƒˆ ëŒ“ê¸€ì´ ë‹¬ë ¸ìŠµë‹ˆë‹¤.');
    END IF;
END;
//

DELIMITER ;
```
 </details>
      <details>
     <summary> 3. ì§ˆë¬¸ê²Œì‹œê¸€ ëŒ€ëŒ“ê¸€ ì•Œë¦¼ ë°œì†¡ ë° ì¡°íšŒ</summary>
      <img src="images/dml_images/ì§ˆë¬¸ ê²Œì‹œê¸€ ëŒ€ëŒ“ê¸€ ë“±ë¡ ì•Œë¦¼ ë°œì†¡.png" width="900">

```sql
DELIMITER //

CREATE PROCEDURE add_reply_to_reply_and_alert (
    IN p_user_id BIGINT,
    IN p_inquiry_id BIGINT,
    IN p_reply_parent_id BIGINT,
    IN p_reply_content VARCHAR(255)
)
BEGIN
    DECLARE parent_writer_id BIGINT;
    DECLARE post_owner_id BIGINT;
    DECLARE parent_inquiry_id BIGINT;

    -- ë¶€ëª¨ ëŒ“ê¸€ì˜ ê²Œì‹œê¸€ ID í™•ì¸
    SELECT inquiry_id, user_id INTO parent_inquiry_id, parent_writer_id
    FROM reply
    WHERE reply_id = p_reply_parent_id;

    -- ë¶€ëª¨ ëŒ“ê¸€ì˜ ê²Œì‹œê¸€ IDê°€ ë‹¤ë¥´ë©´ ì˜ˆì™¸ ì²˜ë¦¬
    IF parent_inquiry_id != p_inquiry_id THEN
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ëŒ€ëŒ“ê¸€ì˜ ë¶€ëª¨ ëŒ“ê¸€ì´ í•´ë‹¹ ê²Œì‹œê¸€ì— ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
    END IF;

    -- ëŒ€ëŒ“ê¸€ ë“±ë¡
    INSERT INTO reply (user_id, inquiry_id, reply_content, reply_parent_id, reply_created_at)
    VALUES (p_user_id, p_inquiry_id, p_reply_content, p_reply_parent_id, NOW());

    -- ê²Œì‹œê¸€ ì‘ì„±ì
    SELECT user_id INTO post_owner_id
    FROM inquiry
    WHERE inquiry_id = p_inquiry_id;

    -- ì•Œë¦¼: ë¶€ëª¨ ëŒ“ê¸€ ì‘ì„±ìì—ê²Œ (ìê¸° ìì‹ ì´ ì•„ë‹Œ ê²½ìš°)
    IF parent_writer_id != p_user_id THEN
        INSERT INTO alerts (user_id, reply_id, notice_message)
        VALUES (parent_writer_id, p_reply_parent_id, 'ë‚´ ëŒ“ê¸€ì— ëŒ€ëŒ“ê¸€ì´ ë‹¬ë ¸ìŠµë‹ˆë‹¤.');
    END IF;

    -- ì•Œë¦¼: ê²Œì‹œê¸€ ì‘ì„±ìì—ê²Œë„ (ìê¸° ìì‹ ì´ ì•„ë‹Œ ê²½ìš°)
    IF post_owner_id != p_user_id AND post_owner_id != parent_writer_id THEN
        INSERT INTO alerts (user_id, inquiry_id, notice_message)
        VALUES (post_owner_id, p_inquiry_id, 'ê²Œì‹œê¸€ì— ìƒˆë¡œìš´ ëŒ“ê¸€ì´ ë‹¬ë ¸ìŠµë‹ˆë‹¤.');
    END IF;
END //

DELIMITER ;
```
</details>
      <details>
     <summary> 4. í”¼í•´ê²Œì‹œê¸€ ëŒ€ëŒ“ê¸€ ì•Œë¦¼ ë°œì†¡ ë° ì¡°íšŒ</summary>
      <img src="images/dml_images/í”¼í•´ê²Œì‹œê¸€ ëŒ€ëŒ“ê¸€ì•Œë¦¼.png" width="900">

```sql
DELIMITER //

CREATE PROCEDURE add_reply_to_reply_on_post_and_alert (
    IN p_user_id BIGINT,
    IN p_post_id BIGINT,
    IN p_reply_parent_id BIGINT,
    IN p_reply_content VARCHAR(255)
)
BEGIN
    DECLARE parent_writer_id BIGINT;
    DECLARE parent_post_id BIGINT;
    DECLARE post_owner_id BIGINT;

    -- ë¶€ëª¨ ëŒ“ê¸€ì˜ ê²Œì‹œê¸€ ID í™•ì¸
    SELECT post_id, user_id INTO parent_post_id, parent_writer_id
    FROM reply
    WHERE reply_id = p_reply_parent_id;

    -- ë¶€ëª¨ ëŒ“ê¸€ì´ í•´ë‹¹ ê²Œì‹œê¸€ì— ë‹¬ë¦° ê²Œ ë§ëŠ”ì§€ í™•ì¸
    IF parent_post_id != p_post_id THEN
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ëŒ€ëŒ“ê¸€ì˜ ë¶€ëª¨ ëŒ“ê¸€ì´ í•´ë‹¹ ê²Œì‹œê¸€ì— ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
    END IF;

    -- ëŒ€ëŒ“ê¸€ ë“±ë¡
    INSERT INTO reply (
        user_id, post_id, reply_content, reply_parent_id, reply_created_at
    ) VALUES (
        p_user_id, p_post_id, p_reply_content, p_reply_parent_id, NOW()
    );

    -- ê²Œì‹œê¸€ ì‘ì„±ì í™•ì¸
    SELECT user_id INTO post_owner_id
    FROM post
    WHERE post_id = p_post_id;

    -- ì•Œë¦¼: ë¶€ëª¨ ëŒ“ê¸€ ì‘ì„±ìì—ê²Œ (ìê¸° ìì‹ ì´ ì•„ë‹Œ ê²½ìš°)
    IF parent_writer_id != p_user_id THEN
        INSERT INTO alerts (user_id, reply_id, notice_message)
        VALUES (parent_writer_id, p_reply_parent_id, 'ë‚´ ëŒ“ê¸€ì— ëŒ€ëŒ“ê¸€ì´ ë‹¬ë ¸ìŠµë‹ˆë‹¤.');
    END IF;

    -- ì•Œë¦¼: ê²Œì‹œê¸€ ì‘ì„±ìì—ê²Œë„ (ìê¸° ìì‹ ì´ ì•„ë‹Œ ê²½ìš°)
    IF post_owner_id != p_user_id AND post_owner_id != parent_writer_id THEN
        INSERT INTO alerts (user_id, post_id, notice_message)
        VALUES (post_owner_id, p_post_id, 'ê²Œì‹œê¸€ì— ìƒˆë¡œìš´ ëŒ“ê¸€ì´ ë‹¬ë ¸ìŠµë‹ˆë‹¤.');
    END IF;
END;
//

DELIMITER ;
```
</details>
  </details>

   <details>
     <summary>ì‹ ê³  ê´€ë ¨</summary>
      <details>
     <summary> 1. í”¼í•´ ê²Œì‹œê¸€ ì‹ ê³  ìš”ì²­</summary>
         <img src="images/dml_images/1_ê²Œì‹œê¸€ ì‹ ê³  í”„ë¡œì‹œì € ì‹¤í–‰.png" width="450">
         <img src="images/dml_images/2_ê²Œì‹œê¸€_í”„ë¡œì‹œì € ì‹¤í–‰ ê²°ê³¼.png" width="450">

```sql
-- ê²Œì‹œê¸€ ì‹ ê³  í”„ë¡œì‹œì €
DELIMITER $$

CREATE PROCEDURE report_post (
    IN p_user_id BIGINT UNSIGNED,
    IN p_post_id BIGINT UNSIGNED,
    IN p_reason TEXT
)
BEGIN
    INSERT INTO report (
        user_id,
        post_id,
        report_resason,
        report_status,
        report_date
    ) VALUES (
        p_user_id,
        p_post_id,
        p_reason,
        'ëŒ€ê¸°ì¤‘',
        NOW()
    );
END$$

DELIMITER ;
```
</details>
          <details>
     <summary> 2. í”¼í•´ ê²Œì‹œê¸€ ëŒ“ê¸€ ì‹ ê³  ìš”ì²­ ë° ê²°ê³¼</summary>
             <img src="images/dml_images/1_ëŒ“ê¸€ ì‹ ê³  í”„ë¡œì‹œì € ì‹¤í–‰.png" width="450">
            <img src="images/dml_images/2_í”„ë¡œì‹œì € ì‹¤í–‰ ê²°ê³¼.png" width="450">
            
```sql
-- ëŒ“ê¸€ ì‹ ê³  í”„ë¡œì‹œì €
DELIMITER $$

CREATE PROCEDURE report_reply (
    IN p_user_id BIGINT UNSIGNED,
    IN p_reply_id BIGINT UNSIGNED,
    IN p_reason TEXT
)
BEGIN
    INSERT INTO report (
        user_id,
        reply_id,
        report_resason,
        report_status,
        report_date
    ) VALUES (
        p_user_id,
        p_reply_id,
        p_reason,
        'ëŒ€ê¸°ì¤‘',
        NOW()
    );
END$$

DELIMITER ;
```
</details>
      <details>
     <summary> 3. í”¼í•´ ê²Œì‹œê¸€ ì‹ ê³  ìŠ¹ì¸</summary>
         <img src="images/dml_images/2_ê´€ë¦¬ì ê²Œì‹œê¸€ ìŠ¹ì¸ í”„ë¡œì‹œì €.png" width="900">

```sql
DELIMITER //

CREATE PROCEDURE admin_update_post_status (
    IN p_post_id BIGINT,
    IN p_admin_id BIGINT,
    IN p_post_status ENUM('ìŠ¹ì¸', 'ë°˜ë ¤'),
    IN p_rejected_reason VARCHAR(255)
)
BEGIN
    DECLARE EXIT HANDLER FOR SQLEXCEPTION
    BEGIN
        ROLLBACK;
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ê²Œì‹œê¸€ ìƒíƒœ ë³€ê²½ ì¤‘ ì˜¤ë¥˜ ë°œìƒ';
    END;

    START TRANSACTION;

    -- ìƒíƒœê°€ ìŠ¹ì¸ì¼ ê²½ìš° ë°˜ë ¤ ì‚¬ìœ ëŠ” NULLë¡œ ì²˜ë¦¬
    IF p_post_status = 'ìŠ¹ì¸' THEN
        UPDATE post
        SET 
            post_status = p_post_status,
            post_rejected_reason = NULL,
            approve_admin = p_admin_id,
            post_updated_at = NOW()
        WHERE post_id = p_post_id;
    ELSEIF p_post_status = 'ë°˜ë ¤' THEN
        UPDATE post
        SET 
            post_status = p_post_status,
            post_rejected_reason = p_rejected_reason,
            approve_admin = p_admin_id,
            post_updated_at = NOW()
        WHERE post_id = p_post_id;
    ELSE
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'post_statusëŠ” ìŠ¹ì¸ ë˜ëŠ” ë°˜ë ¤ë§Œ í—ˆìš©ë©ë‹ˆë‹¤';
    END IF;

    COMMIT;
END;
//

DELIMITER ;
```
  </details>
           <details>
     <summary> 4. í”¼í•´ ê²Œì‹œê¸€ ì‹ ê³  ë°˜ë ¤</summary>
         <img src="images/dml_images/2_ê´€ë¦¬ì ê²Œì‹œê¸€ ë°˜ë ¤ í”„ë¡œì‹œì €.png" width="900">

```sql
DELIMITER //

CREATE PROCEDURE admin_update_post_status (
    IN p_post_id BIGINT,
    IN p_admin_id BIGINT,
    IN p_post_status ENUM('ìŠ¹ì¸', 'ë°˜ë ¤'),
    IN p_rejected_reason VARCHAR(255)
)
BEGIN
    DECLARE EXIT HANDLER FOR SQLEXCEPTION
    BEGIN
        ROLLBACK;
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'ê²Œì‹œê¸€ ìƒíƒœ ë³€ê²½ ì¤‘ ì˜¤ë¥˜ ë°œìƒ';
    END;

    START TRANSACTION;

    -- ìƒíƒœê°€ ìŠ¹ì¸ì¼ ê²½ìš° ë°˜ë ¤ ì‚¬ìœ ëŠ” NULLë¡œ ì²˜ë¦¬
    IF p_post_status = 'ìŠ¹ì¸' THEN
        UPDATE post
        SET 
            post_status = p_post_status,
            post_rejected_reason = NULL,
            approve_admin = p_admin_id,
            post_updated_at = NOW()
        WHERE post_id = p_post_id;
    ELSEIF p_post_status = 'ë°˜ë ¤' THEN
        UPDATE post
        SET 
            post_status = p_post_status,
            post_rejected_reason = p_rejected_reason,
            approve_admin = p_admin_id,
            post_updated_at = NOW()
        WHERE post_id = p_post_id;
    ELSE
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'post_statusëŠ” ìŠ¹ì¸ ë˜ëŠ” ë°˜ë ¤ë§Œ í—ˆìš©ë©ë‹ˆë‹¤';
    END IF;

    COMMIT;
END;
//

DELIMITER ;
```
</details>
          <details>
     <summary> 5. í”¼í•´ ê²Œì‹œê¸€ ëŒ“ê¸€ ì‹ ê³  ìŠ¹ì¸</summary>
            <img src="images/dml_images/1_ì‹ ê³ ê²Œì‹œê¸€ ìŠ¹ì¸ ì™„ë£Œ.png" width="900">
      </details>
  </details>
  
   <details>
     <summary>ë¡œê·¸ ê´€ë ¨</summary>
      <details>
     <summary> 1. ìƒë‹´ê´€ë ¨ ë¡œê·¸ ì¡°íšŒ</summary>
        <img src="images/dml_images/ìƒë‹´ê´€ë ¨ ë¡œê·¸ë§Œ ì¡°íšŒ.png" width="900">
      </details>
           <details>
     <summary> 2. ì‹ ê³ ê²Œì‹œê¸€ ìŠ¹ì¸ ë¡œê·¸ ì¡°íšŒ</summary>
        <img src="images/dml_images/2_ìŠ¹ì¸ ë¡œê·¸ ì—…ë°ì´íŠ¸ ì™„ë£Œ.png" width="900">
      </details>
           <details>
     <summary> 3. ì‹ ê³ ê²Œì‹œê¸€ ë°˜ë ¤ ë¡œê·¸ ì¡°íšŒ</summary>
        <img src="images/dml_images/4_ë°˜ë ¤ ë¡œê·¸ ì—…ë°ì´íŠ¸ ì™„ë£Œ.png" width="900">
      </details>
  </details>
  
   <details>
     <summary>ì¢‹ì•„ìš” ê´€ë ¨</summary>
      <details>
     <summary> 1. ì¢‹ì•„ìš” ë“±ë¡</summary>
      ì§ˆë¬¸ê²Œì‹œê¸€ ì¢‹ì•„ìš” ë“±ë¡ / í”¼í•´ê²Œì‹œê¸€ ì¢‹ì•„ìš” ë“±ë¡
      <div>
      <img src="images/dml_images/ì§ˆë¬¸ ê²Œì‹œê¸€ ì¢‹ì•„ìš” ì¶”ê°€.png" width="450">
        <img src="images/dml_images/í”¼í•´ê²Œì‹œê¸€ ì¢‹ì•„ìš” ë“±ë¡.png" width="450">

```sql
-- ì§ˆë¬¸ ê²Œì‹œê¸€ ì¢‹ì•„ìš” í”„ë¡œì‹œì €
DELIMITER //

CREATE PROCEDURE insert_inquiry_like (
    IN p_user_id BIGINT,
    IN p_inquiry_id
     BIGINT
)
BEGIN
    DECLARE v_count INT;

    -- 1. ì¤‘ë³µ ì¢‹ì•„ìš” ì—¬ë¶€ í™•ì¸
    SELECT COUNT(*) INTO v_count
    FROM inquiry_like
    WHERE user_id = p_user_id AND inquiry_id = p_inquiry_id
    ;

    -- 2. ì¢‹ì•„ìš” ì‚½ì… ë° ê²Œì‹œê¸€ ì¢‹ì•„ìš” ìˆ˜ ì¦ê°€
    IF v_count = 0 THEN
        INSERT INTO inquiry_like (user_id, inquiry_id, liked_created_at)
        VALUES (p_user_id, p_inquiry_id
        , NOW());

        UPDATE inquiry
        SET inquiry_like_count = COALESCE(inquiry_like_count, 0) + 1
        WHERE inquiry_id = p_inquiry_id
        ;
    END IF;
END //

DELIMITER ;
```
 </div>
      </details>
          <details>
     <summary> 2. ì¢‹ì•„ìš” ì·¨ì†Œ</summary>
      ì§ˆë¬¸ê²Œì‹œê¸€ ì¢‹ì•„ìš” ì·¨ì†Œ / í”¼í•´ê²Œì‹œê¸€ ì¢‹ì•„ìš” ì·¨ì†Œ
      <div>
      <img src="images/dml_images/ì§ˆë¬¸ ê²Œì‹œê¸€ ì¢‹ì•„ìš” ì·¨ì†Œ.png" width="450">
      <img src="images/dml_images/í”¼í•´ê²Œì‹œê¸€ ì¢‹ì•„ìš” ì·¨ì†Œ.png" width="450">
        
```sql
-- ì§ˆë¬¸ ê²Œì‹œê¸€ ì¢‹ì•„ìš” ì·¨ì†Œ í”„ë¡œì‹œì €
DELIMITER //

CREATE PROCEDURE delete_inquiry_like (
    IN p_user_id BIGINT,
    IN p_inquiry_id
     BIGINT
)
BEGIN
    DECLARE v_count INT;

    -- 1. ì¢‹ì•„ìš” ì—¬ë¶€ í™•ì¸
    SELECT COUNT(*) INTO v_count
    FROM inquiry_like
    WHERE user_id = p_user_id AND inquiry_id = p_inquiry_id
    ;

    -- 2. ì¢‹ì•„ìš”ê°€ ì¡´ì¬í•  ê²½ìš° ì‚­ì œ ë° ì¹´ìš´íŠ¸ ê°ì†Œ
    IF v_count > 0 THEN
        -- ì¢‹ì•„ìš” ì‚­ì œ
        DELETE FROM inquiry_like
        WHERE user_id = p_user_id AND inquiry_id = p_inquiry_id
        ;

        -- ì¹´ìš´íŠ¸ ê°ì†Œ (ìµœì†Œê°’ 0 ë³´ì¥)
        UPDATE inquiry
        SET inquiry_like_count = GREATEST(COALESCE(inquiry_like_count, 1) - 1, 0)
        WHERE inquiry_id = p_inquiry_id
        ;
    END IF;
END //

DELIMITER ;
```
</div>
      </details>
  </details>
</details>  
<details>
  <summary>Trigger</summary>
  <details>
    <summary>1. ìƒë‹´ ìŠ¹ì¸ íŠ¸ë¦¬ê±°</summary>

```sql
-- post_status updateì‹œì— log_listì— ë¡œê·¸ê°€ ë‚¨ëŠ” Trigger
DELIMITER $$

CREATE TRIGGER after_post_status_change
AFTER UPDATE ON post
FOR EACH ROW
BEGIN
    -- ìŠ¹ì¸ ì²˜ë¦¬
    IF OLD.post_status = 'ëŒ€ê¸°ì¤‘' AND NEW.post_status = 'ìŠ¹ì¸' THEN
        INSERT INTO log_list (
            user_id,
            action,
            entity_type,
            performed_at,
            details
        ) VALUES (
            NEW.user_id,
            'ìŠ¹ì¸',
            'post',
            NOW(),
            CONCAT('post_id=', NEW.post_id, 'ì´ ìŠ¹ì¸ë¨')
        );
    -- ë°˜ë ¤ ì²˜ë¦¬
    ELSEIF OLD.post_status = 'ëŒ€ê¸°ì¤‘' AND NEW.post_status = 'ë°˜ë ¤' THEN
        INSERT INTO log_list (
            user_id,
            action,
            entity_type,
            performed_at,
            details
        ) VALUES (
            NEW.user_id,
            'ë°˜ë ¤',
            'post',
            NOW(),
            CONCAT('post_id=', NEW.post_id, 'ì´ ë°˜ë ¤ë¨. ')
        );
    END IF;
END$$

DELIMITER ;
```
  </details>
    <details>
    <summary>2. íšŒì› ìŠ¹ì¸ íŠ¸ë¦¬ê±°</summary>

```sql
-- ìƒë‹´ ê²Œì‹œê¸€ ìƒíƒœê°€ 'ëŒ€ê¸°ì¤‘'ì—ì„œ 'ìŠ¹ì¸'ìœ¼ë¡œ ë°”ë€Œì—ˆì„ ë•Œë§Œ ë¡œê·¸ ê¸°ë¡
DELIMITER //

CREATE TRIGGER trg_counsel_approve_log
AFTER UPDATE ON counsel                   -- counsel í…Œì´ë¸”ì˜ UPDATE ì´í›„ ì‹¤í–‰
FOR EACH ROW                              -- ê° í–‰ë§ˆë‹¤ ì ìš©
BEGIN
   
    IF OLD.status = 'ëŒ€ê¸°ì¤‘' AND NEW.status = 'ìŠ¹ì¸' THEN           -- ìƒíƒœê°€ 'ëŒ€ê¸°ì¤‘'ì—ì„œ 'ìŠ¹ì¸'ìœ¼ë¡œ ë°”ë€Œì—ˆì„ ë•Œë§Œ ë¡œê·¸ ê¸°ë¡
        INSERT INTO log_list (
            user_id,
            action,
            entity_type,
            performed_at,
            details
        ) VALUES (
            NEW.user_id,
            'ìŠ¹ì¸',
            'counsel',
            NOW(),
            CONCAT('ìƒë‹´ ID: ', NEW.counsel_id, 'ì´ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.')
        );
    END IF;
END;
//

DELIMITER ; 
```
</details>
</details>
  <hr>

<br>

## ğŸ‰ íšŒê³ 

- ê¹€ê±´ë™
  - 
- ê¹€ì°¬ì§„
  -
- ê¹€ì§„í˜¸
  -
- ì´ìš°ì˜
  - 
